# Changelog ä¸­æ–‡æ”¯æŒä¿®å¤

## é—®é¢˜æè¿°

ä¸­æ–‡ changelog é¡µé¢æ— æ³•æ­£å¸¸æ˜¾ç¤ºå†…å®¹ï¼ŒåŸå› æ˜¯ changelog è§£æå™¨åªæ”¯æŒè‹±æ–‡çš„å˜æ›´ç±»å‹æ ‡é¢˜ã€‚

## é—®é¢˜åˆ†æ

1. **è§£æå™¨é™åˆ¶**ï¼š`changelog-parser.ts` åªè¯†åˆ«è‹±æ–‡å˜æ›´ç±»å‹
   - `Added`, `Changed`, `Fixed`, `Removed`, `Deprecated`, `Security`
   
2. **ä¸­æ–‡æ ‡é¢˜**ï¼š`CHANGELOG.zh.md` ä½¿ç”¨ä¸­æ–‡å˜æ›´ç±»å‹æ ‡é¢˜
   - `æ–°å¢`, `å˜æ›´`, `ä¿®å¤`, `ç§»é™¤`, `å·²å¼ƒç”¨`, `å®‰å…¨`

3. **ç‰ˆæœ¬æ ‡è¯†**ï¼šä¸­æ–‡ç‰ˆæœ¬ä½¿ç”¨ `[æœªå‘å¸ƒ]` è€Œä¸æ˜¯ `[Unreleased]`

## è§£å†³æ–¹æ¡ˆ

### 1. æ›´æ–°è§£æå™¨æ˜ å°„

åœ¨ `src/utils/changelog-parser.ts` ä¸­æ·»åŠ ä¸­è‹±æ–‡æ˜ å°„ï¼š

```typescript
const sectionMapping: { [key: string]: keyof ChangelogEntry['changes'] } = {
  // English
  'added': 'added',
  'changed': 'changed',
  'fixed': 'fixed',
  'removed': 'removed',
  'deprecated': 'deprecated',
  'security': 'security',
  // Chinese
  'æ–°å¢': 'added',
  'å˜æ›´': 'changed',
  'ä¿®å¤': 'fixed',
  'ç§»é™¤': 'removed',
  'å·²å¼ƒç”¨': 'deprecated',
  'å®‰å…¨': 'security'
};
```

### 2. æ”¯æŒä¸­æ–‡ç‰ˆæœ¬æ ‡è¯†

```typescript
if (version.toLowerCase() === 'unreleased' || version === 'æœªå‘å¸ƒ') {
  type = 'unreleased';
}
```

### 3. æ›´æ–°éªŒè¯è„šæœ¬

åœ¨ `scripts/validate-changelog.js` ä¸­æ·»åŠ å¯¹ä¸­æ–‡å˜æ›´ç±»å‹çš„éªŒè¯æ”¯æŒã€‚

## æµ‹è¯•éªŒè¯

### 1. è§£æå™¨æµ‹è¯•

åˆ›å»ºäº† `scripts/test-changelog-parser.js` æ¥éªŒè¯åŸºæœ¬è§£æåŠŸèƒ½ï¼š

```bash
npm run test:changelog-parser
```

**ç»“æœï¼š**
- âœ… ä¸­æ–‡æ–‡ä»¶ï¼š8 ä¸ªç‰ˆæœ¬ï¼Œ19 ä¸ªå˜æ›´ç±»å‹ï¼Œ43 ä¸ªå˜æ›´é¡¹
- âœ… è‹±æ–‡æ–‡ä»¶ï¼š8 ä¸ªç‰ˆæœ¬ï¼Œ19 ä¸ªå˜æ›´ç±»å‹ï¼Œ43 ä¸ªå˜æ›´é¡¹
- âœ… æ‰€æœ‰ä¸­æ–‡å˜æ›´ç±»å‹éƒ½è¢«æ­£ç¡®è¯†åˆ«

### 2. é›†æˆæµ‹è¯•

åˆ›å»ºäº† `scripts/test-changelog-integration.js` æ¥éªŒè¯å®é™…è§£ææ•ˆæœï¼š

```bash
npm run test:changelog-integration
```

**ç»“æœï¼š**
- âœ… æˆåŠŸè§£æ 8 ä¸ªç‰ˆæœ¬æ¡ç›®
- âœ… æ‰€æœ‰ç‰ˆæœ¬æ¡ç›®éƒ½åŒ…å«å˜æ›´å†…å®¹
- âœ… ä¸­æ–‡å˜æ›´ç±»å‹æ­£ç¡®æ˜ å°„åˆ°è‹±æ–‡é”®

### 3. æ ¼å¼éªŒè¯

æ›´æ–°äº† `scripts/validate-changelog.js` æ”¯æŒä¸­æ–‡ï¼š

```bash
npm run validate:changelog
```

**ç»“æœï¼š**
- âœ… CHANGELOG.md æ ¼å¼éªŒè¯é€šè¿‡
- âœ… CHANGELOG.zh.md æ ¼å¼éªŒè¯é€šè¿‡

## ä¿®å¤åçš„åŠŸèƒ½

### æ”¯æŒçš„å˜æ›´ç±»å‹

| ä¸­æ–‡ | è‹±æ–‡ | å›¾æ ‡ | è¯´æ˜ |
|------|------|------|------|
| æ–°å¢ | Added | âœ¨ | æ–°å¢çš„åŠŸèƒ½æˆ–ç‰¹æ€§ |
| å˜æ›´ | Changed | ğŸ”„ | å¯¹ç°æœ‰åŠŸèƒ½çš„æ”¹è¿›æˆ–ä¿®æ”¹ |
| ä¿®å¤ | Fixed | ğŸ› | ä¿®å¤çš„ bug æˆ–é—®é¢˜ |
| ç§»é™¤ | Removed | ğŸ—‘ï¸ | ç§»é™¤çš„åŠŸèƒ½æˆ–ç‰¹æ€§ |
| å·²å¼ƒç”¨ | Deprecated | âš ï¸ | å³å°†åœ¨æœªæ¥ç‰ˆæœ¬ä¸­ç§»é™¤çš„åŠŸèƒ½ |
| å®‰å…¨ | Security | ğŸ”’ | å®‰å…¨ç›¸å…³çš„ä¿®å¤ |

### æ”¯æŒçš„ç‰ˆæœ¬ç±»å‹

| ä¸­æ–‡ | è‹±æ–‡ | å¾½ç« é¢œè‰² | è¯´æ˜ |
|------|------|----------|------|
| æœªå‘å¸ƒ | Unreleased | ç´«è‰² | å°šæœªå‘å¸ƒçš„å˜æ›´ |
| é‡å¤§æ›´æ–° | Major | çº¢è‰² | X.0.0 ç‰ˆæœ¬ |
| åŠŸèƒ½æ›´æ–° | Minor | è“è‰² | X.Y.0 ç‰ˆæœ¬ |
| ä¿®å¤æ›´æ–° | Patch | ç»¿è‰² | X.Y.Z ç‰ˆæœ¬ |

## é¡µé¢æ•ˆæœ

ä¿®å¤åï¼Œä¸­æ–‡ changelog é¡µé¢ (`/zh/changelog`) ç°åœ¨å¯ä»¥ï¼š

1. âœ… æ­£ç¡®æ˜¾ç¤ºæ‰€æœ‰ç‰ˆæœ¬ä¿¡æ¯
2. âœ… æ­£ç¡®è§£æå’Œåˆ†ç±»å˜æ›´å†…å®¹
3. âœ… æ˜¾ç¤ºé€‚å½“çš„å›¾æ ‡å’Œå¾½ç« 
4. âœ… ä¿æŒä¸è‹±æ–‡ç‰ˆæœ¬ä¸€è‡´çš„å¸ƒå±€å’Œæ ·å¼

## ç»´æŠ¤å»ºè®®

1. **ä¿æŒä¸€è‡´æ€§**ï¼šç¡®ä¿ä¸­è‹±æ–‡ changelog çš„ç»“æ„å’Œå†…å®¹ä¿æŒåŒæ­¥
2. **éµå¾ªè§„èŒƒ**ï¼šç»§ç»­ä½¿ç”¨æ ‡å‡†çš„ Keep a Changelog æ ¼å¼
3. **æµ‹è¯•éªŒè¯**ï¼šæ¯æ¬¡æ›´æ–° changelog åè¿è¡ŒéªŒè¯è„šæœ¬
4. **æ–‡æ¡£æ›´æ–°**ï¼šåœ¨ CHANGELOG_README.md ä¸­è®°å½•æ”¯æŒçš„ä¸­æ–‡å˜æ›´ç±»å‹

## ç›¸å…³æ–‡ä»¶

- `src/utils/changelog-parser.ts` - è§£æå™¨æ ¸å¿ƒé€»è¾‘
- `CHANGELOG.zh.md` - ä¸­æ–‡ç‰ˆ changelog
- `CHANGELOG.md` - è‹±æ–‡ç‰ˆ changelog
- `scripts/test-changelog-parser.js` - è§£æå™¨æµ‹è¯•
- `scripts/test-changelog-integration.js` - é›†æˆæµ‹è¯•
- `scripts/validate-changelog.js` - æ ¼å¼éªŒè¯